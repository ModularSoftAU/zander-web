<%- include("../header.ejs", {
    pageTitle: pageTitle,
    pageDescription: "Check out profileApiData.data[0].username's profile, punishments and statistics."
}) %>

<%- include("../navigationBar.ejs") %>

<%- include("profileHeader.ejs", {
  profileUserTitle: profileApiData.data[0].username,
  backgroundImage: profileApiData.data[0].coverArt
}) %>

<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-8">
        <ul class="nav nav-tabs">
          <a data-toggle="tab" href="#about"><li class="active selected btn" id="tabContent">About</li></a>
        </ul>
        
        <div class="tab-content profileSection">
          <div id="about" class="tab-pane fade in active">
            <h3>Edit About</h3>
            
            <textarea name="aboutContent" id="" cols="30" rows="10"></textarea>
          </div>
        </div>
      </div>


      <div class="col-3">
        <h3>First Join</h3>
        <p><%= profileApiData.data[0].joined %></p>

        <% if (profileApiData.data[0].interests) { %>
          <hr>
          <h3>Interests</h3>
          <p><%= profileApiData.data[0].interests %></p>
        <% } %>
        <hr>

        <h3>Social Media</h3>
        <table class="table table-borderless">
          
          <!-- 
            Discord
           -->
          <% if (profileApiData.data[0].discord) { %>
            <!-- Disconnect Discord -->
            <tr>
              <a href="<%= config.siteConfiguration.siteAddress %><%= config.siteConfiguration.apiRoute %>/user/profile/authenticate/discord?username=<%= profileApiData.data[0].username %>">
                <button type="button" class="btn btn-sm btn-primary" style="background-color: red;"><i class="fab fa-discord"></i> Disconnect</button><br><br>
              </a>
            </tr>
          <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
            <!-- Connect Discord -->
            <tr>
              <a href="<%= config.siteConfiguration.siteAddress %><%= config.siteConfiguration.apiRoute %>/user/profile/authenticate/discord?username=<%= profileApiData.data[0].username %>">
                <button type="button" class="btn btn-sm btn-primary" style="background-color: #5865F2;"><i class="fab fa-discord"></i> Connect</button><br><br>
              </a>
            </tr>
          <% } %>


          
          <!-- 
            Twitch
           -->
          <% if (profileApiData.data[0].twitch) { %>
            <!-- Disconnect Twitch -->
            <tr>
              <a href="<%= config.siteConfiguration.siteAddress %><%= config.siteConfiguration.apiRoute %>/user/profile/authenticate/twitch?username=<%= profileApiData.data[0].username %>">
                <button type="button" class="btn btn-sm btn-primary" style="background-color: red;"><i class="fab fa-twitch"></i> Disconnect</button><br><br>
              </a>
            </tr>
          <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
            <!-- Connect Twitch -->
            <tr>
              <a href="<%= config.siteConfiguration.siteAddress %><%= config.siteConfiguration.apiRoute %>/user/profile/authenticate/twitch?username=<%= profileApiData.data[0].username %>">
                <button type="button" class="btn btn-sm btn-primary" style="background-color: #6441a5;"><i class="fab fa-twitch"></i> Connect</button><br><br>
              </a>
            </tr>
          <% } %>

          <!-- 

          <% if (profileApiData.data[0].twitter) { %>
            <tr>
              <td>Twitter</td>
              <td><%= profileApiData.data[0].twitter %></td>
            </tr>
          <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
            <tr>
              <form action="" class="profileSocialIcon" method="post">
                <button type="submit" class="btn btn-sm btn-primary" style="background-color: #00acee;"><i class="fab fa-twitter"></i> Connect</button><br><br>
              </form>
            </tr>
          <% } %>

          <% if (profileApiData.data[0].steam) { %>
            <tr>
              <td>Steam</td>
              <td><%= profileApiData.data[0].steam %></td>
            </tr>
            <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
              <tr>
                <form action="" class="profileSocialIcon" method="post">
                  <button type="submit" class="btn btn-sm btn-primary" style="background-color: black;"><i class="fab fa-steam"></i> Connect</button><br><br>
                </form>
              </tr>
            <% } %>

          <% if (profileApiData.data[0].github) { %>
            <tr>
              <td>GitHub</td>
              <td><%= profileApiData.data[0].github %></td>
            </tr>
          <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
            <tr>
              <form action="" class="profileSocialIcon" method="post">
                <button type="submit" class="btn btn-sm btn-primary" style="background-color: #171515;"><i class="fab fa-github"></i> Connect</button><br><br>
              </form>
            </tr>
          <% } %>

          <% if (profileApiData.data[0].spotify) { %>
            <tr>
              <td>Spotify</td>
              <td><%= profileApiData.data[0].spotify %></td>
            </tr>
          <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
              <tr>
                <form action="" class="profileSocialIcon" method="post">
                  <button type="submit" class="btn btn-sm btn-primary" style="background-color: #1DB954;"><i class="fab fa-spotify"></i> Connect</button><br><br>
                </form>
              </tr>
          <% } %>

          <% if (profileApiData.data[0].youtube) { %>
            <tr>
              <td>YouTube</td>
              <td><%= profileApiData.data[0].youtube %></td>
            </tr>
          <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
              <tr>
                <form action="" class="profileSocialIcon" method="post">
                  <button type="submit" class="btn btn-sm btn-primary" style="background-color: #c4302b;"><i class="fab fa-youtube"></i> Connect</button><br><br>
                </form>
              </tr>
          <% } %>

          <% if (profileApiData.data[0].instagram) { %>
            <tr>
              <td>Instagram</td>
              <td><%= profileApiData.data[0].instagram %></td>
            </tr>
            <% } else if (request.session.user.username === profileApiData.data[0].username) { %>
              <tr>
                <form action="" class="profileSocialIcon" method="post">
                  <button type="submit" class="btn btn-sm btn-primary" style="background-color: #bc2a8d;"><i class="fab fa-instagram"></i> Connect</button><br><br>
                </form>
              </tr>
          <% } %> -->
        </table>
        <hr>  
      </div>
    </div>
  </div>
</section>

<%- include("../footer.ejs") %>  