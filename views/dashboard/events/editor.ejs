<%- include("../../modules/dashboard/header.ejs", {
    pageTitle: pageTitle,
    pageDescription: "Schedule events for the community to attend."
}) %>

<%- include("../../modules/dashboard/sidebar.ejs") %>

<%- include("../../modules/dashboard/navigation.ejs") %>

<div class="content-wrap">
    <div class="main">
        <div class="container-fluid">
            <section id="main-content">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-title">
                                <h4>Event Planner</h4>
                            </div>
                            <div class="card-body">
                                <div class="basic-form">
                                    <% if (type === 'create') { %>
                                        <form method="post" action="<%= config.siteConfiguration.siteAddress %>/redirect/event/create">
                                    <% } %>
                                    <% if (type === 'edit') { %>
                                        <form method="post" action="<%= config.siteConfiguration.siteAddress %>/redirect/event/edit">
                                            <%- include("../../partials/form/inputHidden.ejs", {
                                                elementName: "eventId",
                                                elementValue: eventApiData.id
                                            }) %>
                                    <% } %>
                                            <!-- Name of Event -->
                                            <div class="form-group">
                                                <label for="eventName">Event Name</label>

                                                <% if (type === 'create') { %>
                                                    <%- include("../../partials/form/inputText.ejs", {
                                                        elementName: "eventName",
                                                        elementValue: null,
                                                        required: true
                                                    }) %>
                                                <% } %>
                                                <% if (type === 'edit') { %>
                                                    <%- include("../../partials/form/inputText.ejs", {
                                                        elementName: "eventName",
                                                        elementValue: eventApiData.name,
                                                        required: true
                                                    }) %>
                                                <% } %>

                                                <p class="text-muted m-b-15 f-s-12">The name of the event.</p>
                                            </div>

                                            <!-- Event Icon -->
                                            <div class="form-group">
                                                <label for="eventIcon">Event Icon</label>

                                                <% if (type === 'create') { %>
                                                    <%- include("../../partials/form/inputText.ejs", {
                                                        elementName: "eventIcon",
                                                        elementValue: null,
                                                        required: true
                                                    }) %>
                                                <% } %>
                                                <% if (type === 'edit') { %>
                                                    <%- include("../../partials/form/inputText.ejs", {
                                                        elementName: "eventIcon",
                                                        elementValue: eventApiData.icon,
                                                        required: true
                                                    }) %>
                                                <% } %>

                                                <p class="text-muted m-b-15 f-s-12">The display icon for the event. This should be a .png file link from imgur.<br>The event icon MUST be 250px x 250px.</p>
                                            </div>

                                            <!-- Event Date and Time Start -->
                                            <div class="form-group">
                                                <label for="eventStartDateTime">Event Date/Time Start</label>

                                                <% if (type === 'create') { %>
                                                    <input type="datetime-local" class="form-control input-default " name="eventStartDateTime" required>
                                                <% } %>
                                                <% if (type === 'edit') { %>
                                                    <!-- Moment Setting the Date and Time doesn't work in edit mode -->
                                                    <input type="datetime-local" class="form-control input-default " name="eventStartDateTime" value="<%= moment(eventApiData.eventDateTime).format('YYYY-MM-DDTh:mm') %>" required>
                                                <% } %>

                                                <p class="text-muted m-b-15 f-s-12">The date and time for the event to begin.</p>
                                            </div>

                                            <!-- Event Date and Time End -->
                                            <div class="form-group">
                                                <label for="eventEndDateTime">Event Date/Time End</label>

                                                <% if (type === 'create') { %>
                                                    <input type="datetime-local" class="form-control input-default " name="eventEndDateTime" required>
                                                <% } %>
                                                <% if (type === 'edit') { %>
                                                    <!-- Moment Setting the Date and Time doesn't work in edit mode -->
                                                    <input type="datetime-local" class="form-control input-default " name="eventEndDateTime" value="<%= moment(eventApiData.eventDateTime).format('YYYY-MM-DDTh:mm') %>" required>
                                                <% } %>

                                                <p class="text-muted m-b-15 f-s-12">The date and time for the event to begin.</p>
                                            </div>

                                            <!-- Event Location -->
                                            <div class="form-group">
                                                <label for="eventLocation">Event Location</label>

                                                <% if (type === 'create') { %>
                                                    <%- include("../../partials/form/inputText.ejs", {
                                                        elementName: "eventLocation",
                                                        elementValue: null,
                                                        required: true
                                                    }) %>
                                                <% } %>
                                                <% if (type === 'edit') { %>
                                                    <%- include("../../partials/form/inputText.ejs", {
                                                        elementName: "eventLocation",
                                                        elementValue: eventApiData.eventLocation,
                                                        required: true
                                                    }) %>
                                                <% } %>

                                                <p class="text-muted m-b-15 f-s-12">The location for the event.</p>
                                            </div>

                                            <!-- Event Information -->
                                            <div class="form-group">
                                                <label for="eventInformation">Event Information</label>

                                                <% if (type === 'create') { %>
                                                    <%- include("../../partials/form/inputTextArea.ejs", {
                                                        elementName: "eventInformation",
                                                        elementValue: null,
                                                        required: true
                                                    }) %>
                                                <% } %>
                                                <% if (type === 'edit') { %>
                                                    <%- include("../../partials/form/inputTextArea.ejs", {
                                                        elementName: "eventInformation",
                                                        elementValue: eventApiData.information,
                                                        required: true
                                                    }) %>
                                                <% } %>

                                                <p class="text-muted m-b-15 f-s-12">Information for the event that the community needs to know.</p>
                                            </div>

                                            <% if (type === 'create') { %>
                                                <button type="submit" class="btn btn-primary"><i class="fas fa-calendar"></i> Schedule Event</button>
                                            <% } %>

                                            <% if (type === 'edit') { %>
                                                <button type="submit" class="btn btn-warning"><i class="fas fa-calendar"></i> Edit Event</button>
                                            <% } %>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

<%- include("../../modules/dashboard/footer.ejs") %>